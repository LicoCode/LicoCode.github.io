export function fetchLocation(){return new Promise(((e,t)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>{let{latitude:o,longitude:r}=t.coords;o=o.toFixed(6),r=r.toFixed(6),console.log(`Latitude: ${o}, Longitude: ${r}`),e({longitude:r,latitude:o})}),(e=>{console.error("Failed to fetch geolocation:",e),t(e)})):t(new Error("Browser does not support geolocation"))}))}export function fetchAddressByIP(){return fetch("https://ipapi.co/json/",{cache:"default"}).then((e=>e.json())).then((e=>{if(e){e.ip;const t=e.city,o=e.region,r=e.country_name,n=e.latitude,i=e.longitude;return console.log(`City: ${t}, Region: ${o}, Country: ${r}, Latitude: ${n}, Longitude: ${i}`),{city:t,region:o,country:r,latitude:n,longitude:i}}throw new Error(`Failed to fetch city information: ${JSON.stringify(e)}`)})).catch((e=>{throw console.error("Failed to fetch city information:",e),e}))}export function fetchWeatherByCoordinates(e,t){return fetch(`https://api.open-meteo.com/v1/forecast?longitude=${e}&latitude=${t}&daily=sunset,sunrise&models=best_match&current_weather=true&timezone=auto&forecast_days=1`,{cache:"default"}).then((e=>e.json())).then((e=>{if(e&&e.current_weather&&e.daily){const t=e.current_weather.time,o=e.current_weather.weathercode,r=e.current_weather.temperature,n=e.current_weather.windspeed,i=e.current_weather.winddirection,a=e.current_weather.is_day,c=e.daily.sunrise[0],d=e.daily.sunset[0];return console.log(`Time: ${t}, WeatherCode: ${o}, Temperature: ${r}Â°C, WindSpeed: ${n} km/h, WindDirection: ${i}, IsDay: ${a}, Sunrise: ${c}, Sunset: ${d}`),{time:t,weatherCode:o,temperature:r,windSpeed:n,windDirection:i,isDay:a,sunrise:c,sunset:d}}throw new Error(`Failed to fetch weather data: ${JSON.stringify(e)}`)})).catch((e=>{throw console.error("Failed to fetch weather data:",e),e}))}