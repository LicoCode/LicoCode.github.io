<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Camstar技术简单介绍 | Lee</title><meta name="author" content="lichong"><meta name="copyright" content="lichong"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="以下内容基于Camstar 6.9版本，在之后的版本中，实现方式有所改变，基本处理逻辑没有变化 Camstar 数据流向图Camstar Portal：Camstar 的Portal网站，位于Camstar 安装目录下的Camtsar Portal目录，http访问地址为“服务器地址&#x2F;CamstarPortal”，这是一个C#的网站项目，可以用VS打开。 Camstar WCF Serv"><meta property="og:type" content="article"><meta property="og:title" content="Camstar技术简单介绍"><meta property="og:url" content="https://ilico.cn/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/index.html"><meta property="og:site_name" content="Lee"><meta property="og:description" content="以下内容基于Camstar 6.9版本，在之后的版本中，实现方式有所改变，基本处理逻辑没有变化 Camstar 数据流向图Camstar Portal：Camstar 的Portal网站，位于Camstar 安装目录下的Camtsar Portal目录，http访问地址为“服务器地址&#x2F;CamstarPortal”，这是一个C#的网站项目，可以用VS打开。 Camstar WCF Serv"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://ilico.cn/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/SIEMENS.webp"><meta property="article:published_time" content="2019-04-20T07:32:12.000Z"><meta property="article:modified_time" content="2024-03-04T12:01:16.728Z"><meta property="article:author" content="lichong"><meta property="article:tag" content="Camstar"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://ilico.cn/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/SIEMENS.webp"><link rel="shortcut icon" href="/img/l.png"><link rel="canonical" href="https://ilico.cn/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:void 0,translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Camstar技术简单介绍",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2024-03-04 20:01:16"}</script><script>(e=>{e.saveToLocal={set:(e,t,a)=>{var o;0!==a&&(o=Date.now(),localStorage.setItem(e,JSON.stringify({value:t,expiry:o+864e5*a})))},get:e=>{var t=localStorage.getItem(e);if(t){t=JSON.parse(t);if(!(Date.now()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=(o,c={})=>new Promise((t,e)=>{const a=document.createElement("script");a.src=o,a.async=!0,a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},Object.keys(c).forEach(e=>{a.setAttribute(e,c[e])}),document.head.appendChild(a)}),e.getCSS=(o,c=!1)=>new Promise((t,e)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=o,c&&(a.id=c),a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};var e=saveToLocal.get("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,a=window.matchMedia("(prefers-color-scheme: light)").matches,o=window.matchMedia("(prefers-color-scheme: no-preference)").matches,c=!t&&!a&&!o,t=(void 0===e?(a?activateLightMode():t?activateDarkMode():(o||c)&&((a=(new Date).getHours())<=6||18<=a?activateDarkMode:activateLightMode)(),window.matchMedia("(prefers-color-scheme: dark)").addListener(e=>{void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode:activateLightMode)()})):("light"===e?activateLightMode:activateDarkMode)(),saveToLocal.get("aside-status"));void 0!==t&&("hide"===t?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="generator" content="Hexo 7.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/leecon.jfif" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Lee"><span class="site-name">Lee</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Camstar技术简单介绍</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2019-04-20T07:32:12.000Z" title="发表于 2019-04-20 15:32:12">2019-04-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span></div><div class="meta-secondline"></div></div></div><article class="post-content" id="article-container"><p><em><strong>以下内容基于Camstar 6.9版本，在之后的版本中，实现方式有所改变，基本处理逻辑没有变化</strong></em></p><h2 id="Camstar-数据流向图"><a href="#Camstar-数据流向图" class="headerlink" title="Camstar 数据流向图"></a>Camstar 数据流向图</h2><p><strong>Camstar Portal</strong>：Camstar 的Portal网站，位于Camstar 安装目录下的Camtsar Portal目录，http访问地址为“服务器地址&#x2F;CamstarPortal”，这是一个C#的网站项目，可以用VS打开。</p><p><strong>Camstar WCF Service</strong>：位于Camstar安装目录下的Camstar WCF Services目录，是一个C# 的WCF Service 。</p><p><strong>InSiteProxyService</strong>: 位于Camstar安装目录下的InSite Server目录，是InSiteXMLServer的代理服务。</p><p><strong>InSiteXMLServer</strong>: Designer服务真正的执行位置,位于Camstar安装目录下的InSite Server目录（猜测：可能利用mdb文件的内容运用类似反射的技术来构建Designer对象，Method的执行过程也可以通过自定义函数进行一定程度的了解）</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/1.png"> <img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/fea7a01affd79fc19db8a1e95ac4eecb.png"><p>下面进行数据流向图中执行内容的介绍</p><h2 id="Camstar-Portal"><a href="#Camstar-Portal" class="headerlink" title="Camstar Portal"></a>Camstar Portal</h2><p>​	首先获取页面控件上的数据(如何获取控件上的数据后面再介绍)，然后通过Camstar.WCFClient.dll和Camstar.WCFClientBase.dll访问WCF Service 间接执行InsiteXMLServer（也就是执行designer的内容），接受WCF Service返回的结果信息，显示到Portal页面。</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/466ea2490b3a3b5b9fcb8eb30222d9b9.png"> <img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/7508653fdd6f37963ea2b3019b5d2869.png"><p><strong>备注：通过了解WCF Service的内容，我们可以知道在哪些情况下，更新designer需要勾选Generate WCF Service</strong></p><p>控制台程序通过引用Camstar.WCFClient.dll和Camstar.WCFClientBase.dll以及添加WCF的配置信息可以非常方便调用WCFService，配置文件请根据Camstar Portal目录下的Endpoint.config文件以及WCF Service的IP地址自行修改。</p><p>WCF服务可以分为四大类：分别是Designer服务，query服务，Label服务以及Authentication服务。</p><p>Designer服务中常用的又分为两类：shopfloor，maintenance；shpfloor是指车间操作的服务，Maintenance是指建模的服务。WCF Service Object与designer的服务中的字段是一一对应的。下面提供调用Designer服务的实例。</p><h3 id="执行shopfloor服务"><a href="#执行shopfloor服务" class="headerlink" title="执行shopfloor服务"></a>执行shopfloor服务</h3><p>例如执行MoveStd</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/8bd4840bb6b071da1718a7ada15974b0.png"><p>这是一个简单的示例，上面的代码将执行designer的MoveStd服务。</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/eca96481d83d934abd29d8ea38e2521c.png"><p>上图所示是获取MoveStd服务中Container的下拉选择值的代码。</p><p>执行服务所需要的数据是与Designer的服务中定义的字段相对应的。</p><p>Service实例还有许多其它的方法，例如RollBackTransaction以及与Designer中服务的Method一一对应的方法等等，具体使用方式与效果。</p><h3 id="执行Maintenance服务"><a href="#执行Maintenance服务" class="headerlink" title="执行Maintenance服务"></a>执行Maintenance服务</h3><blockquote><p>例如执行MfgOrderMaint</p></blockquote><blockquote><p>1.2.1新建工单2019041101</p></blockquote><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/711087cf020f945e19d1df4251e6d192.png"><blockquote><p>1.2.2将工单2019041201的名称改为2019041101</p></blockquote><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/d395617d0cf6ec09abce9f6ca8a1ea75.png"><p>在Camstar.WebPortal.WCFUtilities.dll中提供了更加通用的用法如下图所示，耦合度更低，这些方法在ES_ModelingBModelingBase.cs中有使用。</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/9692a48a8c179df8a6688d5897c7bfb2.png"><h3 id="Query服务"><a href="#Query服务" class="headerlink" title="Query服务"></a>Query服务</h3><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/c60f1607b406c00acf0f3e86e88031fa.png"><h3 id="Lable服务"><a href="#Lable服务" class="headerlink" title="Lable服务"></a>Lable服务</h3><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/9d520e4e3a366862729010459b3d9f20.png"><p>更加详细用法请查看Camstar.WCFClient.dll和Camstar.WCFClientBase.dll。</p><h2 id="Camstar-WCF-Service"><a href="#Camstar-WCF-Service" class="headerlink" title="Camstar WCF Service"></a>Camstar WCF Service</h2><p><strong>WCF Service</strong> 将Portal传递的WCF Service Object生成XML，发送到<strong>InSiteProxyService</strong>,同时负责将<strong>InSiteProxyService</strong>返回的XML数据解析为WCF Service对象，WCF Service也就有Log功能，默认是关闭，可通过配置文件进行配置。</p><p>代码片段：</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/868ada2ae01fc26365cec12a087569bd.png"><p>生成XML</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/57bff6e54d07d4643f92c4dd8c63de53.png"><p>解析XML</p><h2 id="InSiteProxyService"><a href="#InSiteProxyService" class="headerlink" title="InSiteProxyService"></a>InSiteProxyService</h2><p>InSIteProxyService主要通过控制启动多个InSiteXMLService进程，来响应并发的XML请求，对XML数据不会进行处理，占用2881端口，并不会执行designer服务，也不会处理XML，但会进行XML的转发，主要是进行性能控制，通过一定的规则（规则可通过·InSiteProxyService.exe.config文件进行简单的配置）动态控制InSiteXMLServer进程的启动和销毁。</p><h2 id="InSiteXMLService"><a href="#InSiteXMLService" class="headerlink" title="InSiteXMLService"></a>InSiteXMLService</h2><p>这个程序实际上执行的是designer的服务，与数据库进行交互，因此我将使用designer内容来介绍这个程序。</p><p>Designer中的<strong>Configurable data objects（简称CDO）</strong>类似面向对象编程中的类，所有CDO间接或直接继承BaseObject，BaseObject中定义所有CDO通用的Field和Method，<strong>NamedDataObject（简称NDO）</strong>继承自BaseObject；而NamedDataObject又是所有NDO的父类，在BaseObject的基础上新增了所有NDO通用的Field和Method。</p><p>在shopfloor service中定义了所有shopfloor服务通用的Method，而在shopfloor下添加的服务都会继承shopfloor的所有field和method。</p><p>正因为Designer的CDO具有这些特性，我们完全可以将Designer认为是一个面向对象的MES系统。</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/252bc35ffac20651ca38ea7257629c9c.png"><p>根据上面介绍的WCF service的内容，我们可以知道整个MES系统对外开放的类就是Service以及service的子类，而其中Maintenance就是建模NDO和RDO对外提供的接口，每一个NDO或者RDO对象都拥有一个唯一的maint服务，通过这个maint服务我们可以新增修改删除对应的NDO或者RDO；</p><p>Shopfloor就是所有车间服务对外提供的接口，例如MoveStd服务，Start服务等等都是shopfloor的子类。</p><p>而所有service的执行都是从上往下执行下图所示的Event。</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/ef5ea9e44aca0968072f8344f03e26a4.png"><p>我们完全可以通过查看每个service类（Service CDO）的field和method，来了解每个服务所做的事情。</p><p>但designer的信息，可读性很差。先简单介绍下，具体的得慢慢了解。</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/3f60b2bbc3273cefbf40c98626d85bd8.png"><p><strong>BaseObject</strong>：所有CDO的父类</p><p><strong>Constants</strong>：声明常用的枚举类型字段，可以在其它CDO中，通过”Constans.字段名称”使用（主要用于shopfloor service），类似C#中的static修饰的字段。</p><p><strong>Enumeration</strong>下：定义所有的枚举类CDO。</p><p><strong>NamedDataObject</strong>下：通过名称来区分唯一性的建模对象，一般NDO都会设置对应的数据库，类似C#的实体类，与数据库的表具有映射关系。例如产线MfgLine，工单MfgOrder，工厂Factory等都是属于NDO。</p><p><strong>RevisonBase&#x2F;RevisionObject</strong>下：简称RDO,通过名称加版本号来区分唯一性的建模对象，与NDO类似，也属于实体类，与数据库的表有映射关系，因为它具有版本的性质，因此使用RevisionBase定义对象名称，RevisionObject来定义不同版本，这两个类是一定同时存在的。例如产品Product，ERPBOM，工作流workflow等都是具有版本性质的建模对象，因此都继承自RDO中。</p><p><strong>NameDataObjectChanges</strong>：This CDO holds the changes that are being made to the Object until the user decides to make them permanent。上面这是CDO的描述（我的理解是：防止用户直接修改NDO本身，先在changes中保存需要修改的值，然后再将信息记录到NDO去，或许是出于安全性考虑，或许是减少数据的传输。</p><p><strong>RevisionObjectChanges</strong>：同上。</p><p><strong>Subentity</strong>：定义列表字段</p><p><strong>SubentityChanges</strong> : 同上</p><p><strong>Container</strong>：抽象的概念，上面所说的NDO，RDO，大多数就是为这个对象服务。它代表实际生产中的某一个产品或者某一个批次，它可以实际存在，也可以是虚拟的。</p><p><strong>CurrentStatus</strong>：记录container的当前状态，如位于哪个工作流，哪个工序等等，</p><p><strong>Service</strong>：定义所有的服务，其中Maintenance服务对NDO,RDO对象进行修改，Shopfloor服务对container、Resource等进行操作。</p><p><strong>HistoryMainline</strong>：历史记录表，记录一些简单历史，哪个用户在什么时候执行哪个服务等等一些简单的信息。</p><p>还有一个需要特别指出的是，Designer默认将shopfloor服务的更加详细的历史保存在ServiceHistorySummary下（通过继承ServiceHistorySummary来定义服务对应的历史HistorySummary），当这个历史记录满足不了我们的需求，我们可以扩展HistoryDetails，</p><p><strong>HistoryDetails</strong>默认是在ServiceHistoryDetails CDO下·。</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/ae33e26981e62e08bf5248f9bdea5ede.png"><p><strong>Event与Method</strong></p><p>Designer中任何一个CDO所包含的所有Method，均在CDO本身的Events和当前CDO的Field的Events中；所有method和Event都可以被继承，被重写，暂时没见过重载的用法。</p><p>例如：Shopfloor中就定义了大量Method，并且被绑定Event的方法调用，用来做创建历史等等操作。CDO的Field也可以通过Event绑定Method，如图，常用OnGetValue，SelectValueEx</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/b6875764f2b9a5cffcba9dc5b0ad93a5.png"> <img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/8c699d287b13f4d95fc5b1129c0b4b77.png"><p><strong>总结：designer设计的是一个面向对象的MES系统，每一个CDO都是一个类，类的字段、方法都可以被继承、重写；NDO、RDO是一些实体类，与数据库直接关联，定义产线、产品、工单、工序、工作流等等类，Container是整个MES系统的核心，是定义实际生产中的一个批次或一个产品（自行理解）等等的一个类，Service（Service以及Service的子类）是整个MES系统对外开放的类，直接或间接继承Service创建一个新的Service，都会生成一个对应的WCF Service，通过访问WCF Service，间接访问Designer中的Service，继而操纵Container、NDO、RDO等CDO的数据。</strong></p><h2 id="介绍Designer的界面"><a href="#介绍Designer的界面" class="headerlink" title="介绍Designer的界面"></a>介绍Designer的界面</h2><h3 id="CDOs是Designer的核心"><a href="#CDOs是Designer的核心" class="headerlink" title="CDOs是Designer的核心"></a>CDOs是Designer的核心</h3><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/c904fc3e604492306d2ab787f8b0c9e4.png"><h3 id="在CLFs中创建method的内容，供CDO和CDO的Field使用"><a href="#在CLFs中创建method的内容，供CDO和CDO的Field使用" class="headerlink" title="在CLFs中创建method的内容，供CDO和CDO的Field使用"></a>在CLFs中创建method的内容，供CDO和CDO的Field使用</h3><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/1d641a0d686be5cb489e87e0d68e8bf8.png"><h3 id="Fields中包含所有的字段信息"><a href="#Fields中包含所有的字段信息" class="headerlink" title="Fields中包含所有的字段信息"></a>Fields中包含所有的字段信息</h3><p>​	创建新的CDO，会自动创建Object类型的字段信息，当在CDO使用某种类型的字段时，就是通过选择Fields中的信息实现。</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/af0acaccbb87c8aa3788945ce53ed224.png"><h3 id="Tables中是所有表的信息"><a href="#Tables中是所有表的信息" class="headerlink" title="Tables中是所有表的信息"></a>Tables中是所有表的信息</h3><p>​	绝大部分与CDO都有对应关系，table中column也与对应CDO中的字段有对应关系。</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/e61139c986589b38a97061fb9163babb.png"><h3 id="Functions是理解Designer的设计的MES系统所执行的内容的关键"><a href="#Functions是理解Designer的设计的MES系统所执行的内容的关键" class="headerlink" title="Functions是理解Designer的设计的MES系统所执行的内容的关键"></a>Functions是理解Designer的设计的MES系统所执行的内容的关键</h3><p>​	任何CLF都是由Function组成，Function的功能就是进行逻辑控制、数据处理以及创建CDO对象等，如if，else，foreach，FilterList，CreateCDO等，Function以一种特殊的方式实现，高级编程语言的逻辑控制和处理，如果感兴趣可以看看自定义Function的开发，Function开发原理是com组件开发，网上有资料。</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/4b0eb4a3faab9815cb9ea4b786429b38.png"><h3 id="Queries定义所有的查询语句，"><a href="#Queries定义所有的查询语句，" class="headerlink" title="Queries定义所有的查询语句，"></a>Queries定义所有的查询语句，</h3><p>这些查询语句有简单的SQL查询，也有需要利用占位符原理处理的SQL查询，还有一些更加特殊的用法，专属于Designer的查询语句，在使用的时候会进行更加特殊的处理，在查询语句中的$MfgOrder.Qty会被替换MfgOrder<br>CDO对应的Table中Qty字段在对应的column，还有一种用法是@fieldheader:name&#x3D;”OrderStatus”:label&#x3D;MfgOrder_OrderStatus，主要用于做查询语句中的别名）。</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/db285b7e911e05c4ab00884cffcefe40.png"><h3 id="Labels"><a href="#Labels" class="headerlink" title="Labels"></a>Labels</h3><p>键值对，在CDO中可以使用，在portal显示控件时也会用到，portal控件以及service里面的使用实例，例如ErrorLabelName的赋值。</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/d44238006c1b5ab67e749076fc7bb9ac.png"><h3 id="Categories"><a href="#Categories" class="headerlink" title="Categories"></a>Categories</h3><p>Tables分类，分类规则的话，就看官方文档，创建NDO时，默认Table的分类就是Modeling。</p><img src="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/7966b51812af342a31ad9c761a4e9e19.png"><p><strong>以上所有内容基本上是个人理解，难免有不严谨的地方，请谅解，一切以程序代码、程序执行结果以及官方文档为准，稍微了解一下里面的内容，自己结合实际慢慢去理解。</strong></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://ilico.cn">lichong</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://ilico.cn/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/">https://ilico.cn/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://ilico.cn" target="_blank">Lee</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Camstar/">Camstar</a></div><div class="post_share"><div class="social-share" data-image="/2019/04/20/Camstar%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/SIEMENS.webp" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/03/10/%E6%83%85%E4%B9%A6%E4%B8%AD%E7%88%B1%E6%83%85%E7%9A%84%E6%A8%A1%E6%A0%B7/" title="情书中爱情的模样"><img class="cover" src="/2023/03/10/%E6%83%85%E4%B9%A6%E4%B8%AD%E7%88%B1%E6%83%85%E7%9A%84%E6%A8%A1%E6%A0%B7/love.webp" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">情书中爱情的模样</div></div></a></div><div class="next-post pull-right"><a href="/2017/01/16/hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/" title="hexo搭建博客教程"><img class="cover" src="/2017/01/16/hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/hexo.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">hexo搭建博客教程</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2024/04/20/%E6%9E%84%E5%BB%BACamstarAppServer%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8%E5%AE%A2%E6%88%B7%E7%AB%AF/" title="构建CamstarAppServer服务调用客户端"><img class="cover" src="/2024/04/20/%E6%9E%84%E5%BB%BACamstarAppServer%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8%E5%AE%A2%E6%88%B7%E7%AB%AF/SIEMENS.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-20</div><div class="title">构建CamstarAppServer服务调用客户端</div></div></a></div><div><a href="/2024/04/17/%E5%9F%BA%E4%BA%8EEF%E6%A1%86%E6%9E%B6%E7%9A%84Camstar%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BF%E9%97%AE%E5%AE%A2%E6%88%B7%E7%AB%AF/" title="基于EF框架的Camstar数据库访问客户端"><img class="cover" src="/2024/04/17/%E5%9F%BA%E4%BA%8EEF%E6%A1%86%E6%9E%B6%E7%9A%84Camstar%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BF%E9%97%AE%E5%AE%A2%E6%88%B7%E7%AB%AF/SIEMENS.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-17</div><div class="title">基于EF框架的Camstar数据库访问客户端</div></div></a></div></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/leecon.jfif" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">lichong</div><div class="author-info__description">人生万事须自为，硅步江山即寥廓</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" href="mailto:1257727155@qq.com"><i class="fas fa-envelope"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/LicoCode" target="_blank" title="Github"><i class="fab fa-github" style="color:#hdhfbb"></i></a><a class="social-icon" href="https://qm.qq.com/q/jpYIXqa7mw" target="_blank" title="QQ"><i class="fab fa-qq" style="color:#000"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">好吃、好看、好玩</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Camstar-%E6%95%B0%E6%8D%AE%E6%B5%81%E5%90%91%E5%9B%BE"><span class="toc-number">1.</span> <span class="toc-text">Camstar 数据流向图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Camstar-Portal"><span class="toc-number">2.</span> <span class="toc-text">Camstar Portal</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8Cshopfloor%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.1.</span> <span class="toc-text">执行shopfloor服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8CMaintenance%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.2.</span> <span class="toc-text">执行Maintenance服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Query%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.3.</span> <span class="toc-text">Query服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lable%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.4.</span> <span class="toc-text">Lable服务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Camstar-WCF-Service"><span class="toc-number">3.</span> <span class="toc-text">Camstar WCF Service</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#InSiteProxyService"><span class="toc-number">4.</span> <span class="toc-text">InSiteProxyService</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#InSiteXMLService"><span class="toc-number">5.</span> <span class="toc-text">InSiteXMLService</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8DDesigner%E7%9A%84%E7%95%8C%E9%9D%A2"><span class="toc-number">6.</span> <span class="toc-text">介绍Designer的界面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CDOs%E6%98%AFDesigner%E7%9A%84%E6%A0%B8%E5%BF%83"><span class="toc-number">6.1.</span> <span class="toc-text">CDOs是Designer的核心</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8CLFs%E4%B8%AD%E5%88%9B%E5%BB%BAmethod%E7%9A%84%E5%86%85%E5%AE%B9%EF%BC%8C%E4%BE%9BCDO%E5%92%8CCDO%E7%9A%84Field%E4%BD%BF%E7%94%A8"><span class="toc-number">6.2.</span> <span class="toc-text">在CLFs中创建method的内容，供CDO和CDO的Field使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Fields%E4%B8%AD%E5%8C%85%E5%90%AB%E6%89%80%E6%9C%89%E7%9A%84%E5%AD%97%E6%AE%B5%E4%BF%A1%E6%81%AF"><span class="toc-number">6.3.</span> <span class="toc-text">Fields中包含所有的字段信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tables%E4%B8%AD%E6%98%AF%E6%89%80%E6%9C%89%E8%A1%A8%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="toc-number">6.4.</span> <span class="toc-text">Tables中是所有表的信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Functions%E6%98%AF%E7%90%86%E8%A7%A3Designer%E7%9A%84%E8%AE%BE%E8%AE%A1%E7%9A%84MES%E7%B3%BB%E7%BB%9F%E6%89%80%E6%89%A7%E8%A1%8C%E7%9A%84%E5%86%85%E5%AE%B9%E7%9A%84%E5%85%B3%E9%94%AE"><span class="toc-number">6.5.</span> <span class="toc-text">Functions是理解Designer的设计的MES系统所执行的内容的关键</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Queries%E5%AE%9A%E4%B9%89%E6%89%80%E6%9C%89%E7%9A%84%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%EF%BC%8C"><span class="toc-number">6.6.</span> <span class="toc-text">Queries定义所有的查询语句，</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Labels"><span class="toc-number">6.7.</span> <span class="toc-text">Labels</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Categories"><span class="toc-number">6.8.</span> <span class="toc-text">Categories</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/04/20/%E6%9E%84%E5%BB%BACamstarAppServer%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8%E5%AE%A2%E6%88%B7%E7%AB%AF/" title="构建CamstarAppServer服务调用客户端"><img src="/2024/04/20/%E6%9E%84%E5%BB%BACamstarAppServer%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8%E5%AE%A2%E6%88%B7%E7%AB%AF/SIEMENS.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="构建CamstarAppServer服务调用客户端"></a><div class="content"><a class="title" href="/2024/04/20/%E6%9E%84%E5%BB%BACamstarAppServer%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8%E5%AE%A2%E6%88%B7%E7%AB%AF/" title="构建CamstarAppServer服务调用客户端">构建CamstarAppServer服务调用客户端</a><time datetime="2024-04-20T01:39:24.000Z" title="发表于 2024-04-20 09:39:24">2024-04-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/17/%E5%9F%BA%E4%BA%8EEF%E6%A1%86%E6%9E%B6%E7%9A%84Camstar%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BF%E9%97%AE%E5%AE%A2%E6%88%B7%E7%AB%AF/" title="基于EF框架的Camstar数据库访问客户端"><img src="/2024/04/17/%E5%9F%BA%E4%BA%8EEF%E6%A1%86%E6%9E%B6%E7%9A%84Camstar%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BF%E9%97%AE%E5%AE%A2%E6%88%B7%E7%AB%AF/SIEMENS.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="基于EF框架的Camstar数据库访问客户端"></a><div class="content"><a class="title" href="/2024/04/17/%E5%9F%BA%E4%BA%8EEF%E6%A1%86%E6%9E%B6%E7%9A%84Camstar%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BF%E9%97%AE%E5%AE%A2%E6%88%B7%E7%AB%AF/" title="基于EF框架的Camstar数据库访问客户端">基于EF框架的Camstar数据库访问客户端</a><time datetime="2024-04-16T23:30:08.000Z" title="发表于 2024-04-17 07:30:08">2024-04-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/02/%E5%9F%BA%E4%BA%8EGit%E7%9A%84Obsidian%E7%AC%94%E8%AE%B0%E5%90%8C%E6%AD%A5%E6%95%99%E7%A8%8B/" title="基于Git的Obsidian笔记同步教程"><img src="/2024/03/02/%E5%9F%BA%E4%BA%8EGit%E7%9A%84Obsidian%E7%AC%94%E8%AE%B0%E5%90%8C%E6%AD%A5%E6%95%99%E7%A8%8B/Obsidian.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="基于Git的Obsidian笔记同步教程"></a><div class="content"><a class="title" href="/2024/03/02/%E5%9F%BA%E4%BA%8EGit%E7%9A%84Obsidian%E7%AC%94%E8%AE%B0%E5%90%8C%E6%AD%A5%E6%95%99%E7%A8%8B/" title="基于Git的Obsidian笔记同步教程">基于Git的Obsidian笔记同步教程</a><time datetime="2024-03-02T12:00:11.000Z" title="发表于 2024-03-02 20:00:11">2024-03-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/02/29/%E6%88%AA%E8%87%B32024%E5%B9%B41%E6%9C%88%E5%85%A8%E5%9B%BD%E6%AF%95%E4%B8%9A%E5%A4%A7%E5%AD%A6%E7%94%9F%E4%BA%BA%E6%95%B0%E5%9C%A8%E6%80%BB%E4%BA%BA%E5%8F%A3%E6%95%B0%E4%B8%AD%E7%9A%84%E6%AF%94%E4%BE%8B/" title="截至2024年1月全国毕业大学生人数在总人口数中的比例">截至2024年1月全国毕业大学生人数在总人口数中的比例</a><time datetime="2024-02-29T13:42:03.000Z" title="发表于 2024-02-29 21:42:03">2024-02-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/01/30/%E5%BE%80%E5%B9%B4%E5%B1%85%E6%B0%91%E4%BA%BA%E5%9D%87%E5%8F%AF%E6%94%AF%E9%85%8D%E6%94%B6%E5%85%A5/" title="往年居民人均可支配收入">往年居民人均可支配收入</a><time datetime="2024-01-30T15:41:21.000Z" title="发表于 2024-01-30 23:41:21">2024-01-30</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2024 By lichong</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(()=>{const n=()=>{new Valine(Object.assign({el:"#vcomment",appId:"90XA3IWgY2jl1dc9JIr62Z4u-gzGzoHsz",appKey:"8tD6XyvI2W8X5J6s7n8ZuxkC",avatar:"hide",serverURLs:"https://leancloud.cn",emojiMaps:"",path:window.location.pathname,visitor:!1},null))};var t=async()=>{"function"==typeof Valine||await getScript("https://cdn.jsdelivr.net/npm/valine@1.5.1/dist/Valine.min.js"),n()};btf.loadComment(document.getElementById("vcomment"),t)})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>